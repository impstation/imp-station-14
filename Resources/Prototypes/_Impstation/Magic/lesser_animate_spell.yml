- type: entity
  id: ActionLesserAnimateSpell
  name: Lesser Animate
  description: Ensoul an object to be your friend!
  components:
    - type: EntityTargetAction
      useDelay: 3
      itemIconStyle: BigAction
      whitelist:
        components:
        - Animateable # Currently on: SeatBase, TableBase, ClosetBase, BaseMachine, ConstructibleMachine, BaseComputer, BaseItem, CrateGeneric, StorageTank, GasCanister, BaseTarget
      blacklist:
        components:
        - MindContainer
        - NukeDisk
        - GravityGenerator
        - AnomalyGenerator
        - TegGenerator
        - TegCirculator
        - Artifact
      canTargetSelf: false
      interactOnMiss: false
      sound: !type:SoundPathSpecifier
        path: /Audio/Magic/staff_animation.ogg
      icon:
        sprite: Objects/Magic/magicactions.rsi
        state: spell_default
      event: !type:ChangeComponentsSpellEvent
        toAdd:
        - type: Animate
        - type: GhostRole
          makeSentient: true
          allowSpeech: true
          allowMovement: true
          name: "name"
          description: An object endowed with a soul by a wizard!
          mindRoles: # imp
          - MindRoleGhostRoleFamiliar
        - type: GhostTakeoverAvailable    
        - type: MindContainer
        - type: InputMover
        - type: MobMover
        - type: MovementSpeedModifier
        - type: ComplexInteraction
        - type: CombatMode
        - type: MeleeWeapon
          animation: WeaponArcPunch
          wideAnimation: WeaponArcPunch
          altDisarm: false
          soundHit: /Audio/Weapons/smash.ogg
          range: 1.2
          angle: 0.0
          damage:
            types:
              Blunt: 1
        - type: NpcFactionMember
          factions:
          - Wizard
        - type: CanMoveInAir
        - type: Damageable
          damageContainer: ManifestedSpirit
          damageModifierSet: ManifestedSpirit
        - type: Destructible
          thresholds:
          - trigger:
              !type:DamageTrigger
              damage: 100
            behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
            - !type:PlaySoundBehavior
              sound:
                collection: MetalBreak
        - type: CanEscapeInventory
        toRemove:
        - RequireProjectileTarget
        speech: action-speech-spell-animate
        doSpeech: false
