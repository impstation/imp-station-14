- type: entity
  id: AlwaysPoweredFloorLight
  name: floor light
  description: "An always powered light."
  suffix: Always powered
  parent: AlwaysPoweredWallLight
  components:
  - type: Transform
    anchored: true
  - type: Clickable
  - type: InteractionOutline
  #- type: Construction TODO
  - type: Sprite
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    drawdepth: HighFloorObjects
    layers:
    - map: ["enum.PoweredLightLayers.Base"]
      state: base
    - map: ["enum.PoweredLightLayers.Glow"]
      state: baseGlow
      shader: unshaded
  - type: PointLight
    color: "#FFE4CE"
    energy: 0.8
    radius: 10
    softness: 1
    offset: "0, 0"
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        mask:
        - Impassable
  placement:
    mode: SnapgridCenter

- type: entity
  name: floor light
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  id: PoweredFloorLightEmpty
  suffix: Empty
  parent: AlwaysPoweredFloorLight
  components:
  - type: Sprite
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    layers: # to be refactored
    - state: empty
      visible: false
      map: ["enum.PoweredLightLayers.Base"]
    - state: baseGlow
      visible: false
      shader: unshaded
    - state: ledGlow
      visible: false
      shader: unshaded
    - state: exteriorGlow
      visible: false
      shader: unshaded
    - state: sodiumGlow
      visible: false
      shader: unshaded
    - state: oldGlow
      visible: false
      shader: unshaded
    - state: redGlow
      visible: false
      shader: unshaded
    - state: blueGlow
      visible: false
      shader: unshaded
    - state: cyanGlow
      visible: false
      shader: unshaded
    - state: greenGlow
      visible: false
      shader: unshaded
    - state: yellowGlow
      visible: false
      shader: unshaded
    - state: orangeGlow
      visible: false
      shader: unshaded
    - state: pinkGlow
      visible: false
      shader: unshaded
    - state: blackGlow
      visible: false
      shader: unshaded
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: empty
  - type: ItemMapper # to be refactored to use a custom comp
    mapLayers:
      empty:
        minCount: 0
        maxCount: 0
        whitelist:
          tags:
            - LightTube
      broken:
        whitelist:
          tags:
            - Broken
      base:
        whitelist:
          tags:
            - LightNormal
      baseGlow:
        whitelist:
          tags:
            - LightNormal
      led:
        whitelist:
          tags:
            - LightLed
      ledGlow:
        whitelist:
          tags:
            - LightLed
      exterior:
        whitelist:
          tags:
            - LightExterior
      exteriorGlow:
        whitelist:
          tags:
            - LightExterior
      sodium:
        whitelist:
          tags:
            - LightSodium
      sodiumGlow:
        whitelist:
          tags:
            - LightSodium
      old:
        whitelist:
          tags:
            - LightOld
      oldGlow:
        whitelist:
          tags:
            - LightOld
      red:
        whitelist:
          tags:
            - LightRed
      redGlow:
        whitelist:
          tags:
            - LightRed
      blue:
        whitelist:
          tags:
            - LightBlue
      blueGlow:
        whitelist:
          tags:
            - LightBlue
      cyan:
        whitelist:
          tags:
            - LightCyan
      cyanGlow:
        whitelist:
          tags:
            - LightCyan
      green:
        whitelist:
          tags:
            - LightGreen
      greenGlow:
        whitelist:
          tags:
            - LightGreen
      yellow:
        whitelist:
          tags:
            - LightYellow
      yellowGlow:
        whitelist:
          tags:
            - LightYellow
      orange:
        whitelist:
          tags:
            - LightOrange
      orangeGlow:
        whitelist:
          tags:
            - LightOrange
      pink:
        whitelist:
          tags:
            - LightPink
      pinkGlow:
        whitelist:
          tags:
            - LightPink
      black:
        whitelist:
          tags:
            - LightBlack
      blackGlow:
        whitelist:
          tags:
            - LightBlack
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
  - type: PointLight
    enabled: false
  - type: PoweredLight
    bulb: Tube
  - type: ContainerContainer
    containers:
      light_bulb: !type:ContainerSlot
  - type: ApcPowerReceiver
  - type: ExtensionCableReceiver
  - type: DeviceNetwork
    deviceNetId: Wireless
    receiveFrequencyId: SmartLight
  - type: WirelessNetworkConnection
    range: 200
  - type: DeviceLinkSink
    ports:
      - On
      - Off
      - Toggle
  - type: Appearance
  - type: PoweredLightVisuals
    blinkingSound:
      path: "/Audio/Machines/light_tube_on.ogg"
    spriteStateMap:
      empty: empty
      off: base
      on: base
      broken: broken
      burned: burned
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLight
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  suffix: ""
  parent: PoweredFloorLightEmpty
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: base
  - type: PointLight
    enabled: true
  - type: PoweredLight
    hasLampOnSpawn: LightTube
  - type: AmbientOnPowered
  - type: AmbientSound
    volume: -15
    range: 2
    sound:
      path: /Audio/Ambience/Objects/light_hum.ogg
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

#LED
- type: entity
  id: PoweredFloorLightLED
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  suffix: LED
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: led
  - type: PoweredLight
    hasLampOnSpawn: LedLightTube
  - type: PointLight
    radius: 15
    energy: 1
    softness: 0.9
    color: "#EEEEFF"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 1 # LEDs don't get as hot
    popupText: powered-light-component-burn-hand

#Exterior
- type: entity
  id: PoweredFloorLightExterior
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  suffix: Exterior
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: exterior
  - type: PoweredLight
    hasLampOnSpawn: ExteriorLightTube
  - type: DamageOnInteract
    damage:
      types:
        Heat: 4 # brighter light gets hotter
    popupText: powered-light-component-burn-hand

#Sodium
- type: entity
  id: PoweredFloorLightSodium
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  suffix: Sodium
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: sodium
  - type: PoweredLight
    hasLampOnSpawn: SodiumLightTube
  - type: PointLight
    radius: 10
    energy: 2.5
    softness: 0.9
    color: "#FFAF38"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

#Old
- type: entity
  id: PoweredFloorLightOld
  description: "A light fixture. Draws power and produces light when equipped with a light tube."
  suffix: Old
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: old
  - type: PoweredLight
    hasLampOnSpawn: LightTubeOld
  - type: PointLight
    radius: 10
    energy: 0.5
    softness: 1
    color: "#FFDABB"
    offset: "0, -0.5" #sprite is off center
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

#Colored
- type: entity
  id: PoweredFloorLightCyan
  suffix: Cyan
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: cyan
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalCyan
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#47f8ff"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightBlue
  suffix: Blue
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: blue
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalBlue
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#39a1ff"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightYellow
  suffix: Yellow
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: yellow
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalYellow
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#ffde46"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightPink
  suffix: Pink
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: pink
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalPink
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#ff66cc"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightOrange
  suffix: Orange
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: orange
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalOrange
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#ff8227"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightBlack
  suffix: Black
  parent: PoweredFloorLight
  description:
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: black
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalBlack
  - type: PointLight
    radius: 8
    energy: 1
    softness: 0.5
    color: "#363636"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightRed
  suffix: Red
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: red
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalRed
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#fb4747"
    offset: "0, -0.5" #sprite is off center
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand

- type: entity
  id: PoweredFloorLightGreen
  suffix: Green
  parent: PoweredFloorLight
  components:
  - type: Icon
    sprite: _Impstation/Structures/Lighting/floorlights.rsi
    state: green
  - type: PoweredLight
    hasLampOnSpawn: LightTubeCrystalGreen
  - type: PointLight
    radius: 8
    energy: 3
    softness: 0.5
    color: "#52ff39"
  - type: DamageOnInteract
    damage:
      types:
        Heat: 2
    popupText: powered-light-component-burn-hand
