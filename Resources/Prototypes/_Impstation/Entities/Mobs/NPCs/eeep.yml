- type: entity
  parent: [ SimpleSpaceMobBase, FlyingMobBase ]
  id: MobEeeplet
  suffix: "baby"
  name: eeeplet
  description: Electric sheep dream of teslas.
  components:
  - type: GhostRole
    allowMovement: true
    name: ghost-role-information-eeep
    description: ghost-role-information-eeep
    rules: ghost-role-information-freeagent-rules
    mindRoles:
    - MindRoleGhostRoleTeamAntagonist
    raffle:
      settings: default
  - type: GhostTakeoverAvailable
  - type: Examiner
  - type: Speech
    speechSounds: Pop
    speechVerb: Slime
  - type: ReplacementAccent
    accent: eeep
  - type: Bloodstream
    bloodMaxVolume: 200
    bloodReagent: Cryoxadone
  - type: MobMover
  - type: InputMover
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 6
    baseWeightlessModifier: 1.5
  - type: Sprite
    sprite: _Impstation/Mobs/Aliens/eeeplet.rsi
    noRot: true
    layers:
    - map: [ "enum.DamageStateVisualLayers.Base" ]
      state: eeeplet
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: eeeplet_glow
      shader: unshaded
  - type: Appearance
  - type: DamageStateVisuals
    states:
      Alive:
        Base: eeeplet
      Critical:
        Base: eeeplet_crit
      Dead:
        Base: eeeplet_dead
  - type: Physics
    bodyType: KinematicController
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.40
        density: 100
        mask:
        - FlyingMobMask
        layer:
        - FlyingMobLayer
  - type: MobState
  - type: MobStateActions
    actions:
      Critical:
      - ActionCritSuccumb
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Critical
      250: Dead
  - type: Butcherable
    spawned:
      - id: EeepSpark
        amount: 1
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 120
      behaviors:
      - !type:GibBehavior
        recursive: false
    spawned:
      - id: EeepletSpark
        amount: 1
  - type: StatusEffects
    allowed:
    - SlowedDown
    - ForcedSleep
    - TemporaryBlindness
    - RadiationProtection
    - Pacified
  - type: Absorbable
    biomassRestored: 0.1
  - type: FlavorProfile
    flavors:
    - like a battery
  - type: InteractionPopup
    successChance: 0.3
    interactSuccessString: petting-success-eeeplet
    interactSuccessSound:
      path: /Audio/Effects/pop.ogg
    interactSuccessSpawn: EffectHearts
    interactFailureString: petting-failure-eeeplet
    interactFailureSound:
      path: /Audio/Effects/PowerSink/electric.ogg
  - type: Tag
    tags:
    - CannotSuicide
    - DoorBumpOpener
  - type: Puller
    needsHands: false
  - type: Prying
    pryPowered: true
    force: true
    speedModifier: 10
    useSound:
      path: /Audio/Effects/tesla_consume.ogg
  - type: VentCrawler
    enterDelay: 3
  - type: AmbientSound
    volume: -8
    range: 3
    sound:
      path: /Audio/Effects/tesla.ogg
  - type: PointLight
    radius: 2
    energy: 3
    color: "#afa2ff"
    castShadows: true
  - type: MeleeWeapon
    soundHit:
        path: /Audio/Effects/Lightning/lightningshock.ogg
    angle: 0
    animation: WeaponArcZap
    damage:
      types:
        Shock: 8
  - type: StaminaDamageOnHit
    damage: 50
  - type: NightVision # EE edit
    isActive: true
    toggleAction: null
    color: "#50595C"
    activateSound: null
    deactivateSound: null
  - type: BatteryDrainer
  - type: Battery
    maxCharge: 4000
    startingCharge: 0
  - type: ComplexInteraction
  - type: ExaminableBattery

  - type: entity
  id: ActionEeepletGrow
  parent: BaseAction
  name: Grow
  description: Im so full from the stations power, Yum.
  components:
  - type: Action
    itemIconStyle: NoItem
    icon: _Impstation/Interface/Actions/tba.png
    useDelay: 20
  - type: InstantAction
      event: !type: #TBA
      chargeUse: 4000
      nextStage: MobEeep

- type: entity
  id: EeepSpark
  parent: TeslaMiniEnergyBall
  categories: [ HideSpawnMenu ]
  name: mini ball lightning
  description: You monster.
  components:
  - type: TimedDespawn
    lifetime: 5
  - type: Sprite
    drawdepth: Effects
    sprite: Structures/Power/Generation/Tesla/energy_miniball.rsi
    shader: unshaded
    layers:
    - state: tesla_projectile

- type: entity
  id: WeaponArcZap
  parent: WeaponArcAnimated
  categories: [ HideSpawnMenu ]
  components:
    - type: WeaponArcVisuals
      fadeOut: false
    - type: Sprite
      sprite: Effects/lightning.rsi
      state: electrified
    - type: TimedDespawn
      lifetime: 0.399

- type: entity
  parent: [ MobEeeplet ]
  id: MobEeep
  suffix: "adult"
  name: eeep
  description: Uh oh.
  components:
  - type: Bloodstream
    bloodMaxVolume: 500
    bloodReagent: Cryoxadone
  - type: Electrified
    requirePower: false
    shockDamage: 10
  - type: Sprite
    sprite: _Impstation/Mobs/Aliens/eeep.rsi
    noRot: true
    layers:
    - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
      state: eeep
      shader: unshaded
  - type: Appearance
  - type: DamageStateVisuals
    states:
      Alive:
        Base: eeep
      Critical:
        Base: eeep_crit
      Dead:
        Base: eeep_dead
  - type: MobThresholds
    thresholds:
      0: Alive
      800: Critical
      900: Dead
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTypeTrigger
        damageType: Blunt
        damage: 1000
      behaviors:
      - !type:GibBehavior
        recursive: false
  - type: Absorbable
    biomassRestored: 0.8
  - type: AmbientSound
    volume: -3
    range: 4
    sound:
      path: /Audio/Effects/tesla.ogg
  - type: PointLight
    radius: 3
    energy: 5
    color: "#afa2ff"
    castShadows: true
  - type: Devourer
    shouldStoreDevoured: true
    chemical: Ichor
    healRate: 2
    whitelist:
      components:
      - Door
      tags:
      - Wall
  - type: Gun
    projectileSpeed: 10
    soundGunshot:
      path: /Audio/Effects/Lightning/lightningshock.ogg
      params:
        variation: 0.2
  - type: ProjectileBatteryAmmoProvider
    proto: TeslaGunBullet
    fireCost: 100
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 50
  - type: Battery
    maxCharge: 1000
    startingCharge: 1000
  - type: PassiveDamage # passive regen.
    allowedStates:
    - Alive
    - Critical
    damage:
      types:
        Heat: -2
      groups:
        Brute: -2
  - type: LightningArcShooter
    arcDepth: 2
    maxLightningArc: 1
    shootMinInterval: 4
    shootMaxInterval: 10
    shootRange: 5
    lightningPrototype: Lightning
