- type: entity
  id: BaseMindlessClone
  parent: MobHuman
  name: mindless clone
  suffix: No AI
  components:
  - type: MindlessClone
  - type: MindContainer
    showExamineInfo: false

- type: entity
  id: MobMindlessClone
  parent: BaseMindlessClone
  name: mindless clone
  suffix: Passive 
  components:
  - type: MindlessClone
    speakOnSpawn: true
  - type: ActiveListener
    range: 6
  - type: ParrotSpeech
    maximumPhraseLength: 1000 # will repeat anything, even long sentences.
    minimumWait: 10
    maximumWait: 300 # between 10 seconds and 5 minutes.
    learnChance: 1 # will repeat *anything* it hears.
    hideMessagesInChat: false
  - type: HTN
    rootTask:
      task: KisserTomatoCompound
  - type: NPCImprintingOnSpawnBehaviour
    spawnFriendsSearchRadius: 5
    whitelist:
      components:
      - HumanoidAppearance

- type: entity
  id: MobMindlessCloneHostile
  parent: BaseMindlessClone
  name: mindless clone
  suffix: Hostile 
  components:
  - type: MindlessClone
    speakOnSpawn: true
  - type: ActiveListener
    range: 6
  - type: ParrotSpeech
    maximumPhraseLength: 1000 # will repeat anything, even long sentences.
    minimumWait: 10
    maximumWait: 300 # between 10 seconds and 5 minutes.
    learnChance: 1 # will repeat *anything* it hears.
    hideMessagesInChat: false
  - type: HTN
    rootTask:
      task: SimpleHostileCompound
  - type: NpcFactionMember
    factions:
      - SimpleHostile

- type: entity
  id: MobMindlessCloneMindswapHostile
  parent: BaseMindlessClone
  name: mindless clone
  suffix: Mind-swap
  components: 
  - type: MindlessClone
    speakOnSpawn: true
    mindSwap: true
  - type: ActiveListener
    range: 6
  - type: ParrotSpeech
    maximumPhraseLength: 1000 # will repeat anything, even long sentences.
    minimumWait: 10
    maximumWait: 300 # between 10 seconds and 5 minutes.
    learnChance: 1 # will repeat *anything* it hears.
    hideMessagesInChat: false
  - type: HTN
    rootTask:
      task: MindlessCloneHostileCompound
  - type: NpcFactionMember
    factions:
      - SimpleHostile

# HTN compounds (for AI)

- type: htnCompound
  id: MindlessCloneHostileCompound
  branches:
    - preconditions:
      - !type:KeyNotExistsPrecondition
        key: Handled
      tasks:
        - !type:HTNPrimitiveTask
          operator: !type:SetFloatOperator
            targetKey: IdleTime
            amount: 7

        - !type:HTNCompoundTask
          task: IdleCompound
        
        - !type:HTNPrimitiveTask
          operator: !type:SetBoolOperator
            targetKey: Handled
            value: true
    - tasks: 
        - !type:HTNCompoundTask
          task: SimpleHostileCompound

